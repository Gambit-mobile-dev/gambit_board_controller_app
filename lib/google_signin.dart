import 'package:flutter/material.dart'; import 'package:firebase_auth/firebase_auth.dart'; import 'package:google_sign_in/google_sign_in.dart'; void main() => runApp(MyApp()); class MyApp extends StatelessWidget { // This widget is the root of your application. @override Widget build(BuildContext context) { return MaterialApp( title: 'Flutter Tutorial', theme: ThemeData( primarySwatch: Colors.blue, ), home: MyHomePage(title: 'Flutter Auth'), ); } } class MyHomePage extends StatefulWidget { MyHomePage({Key key, this.title}) : super(key: key); final String title; @override _MyHomePageState createState() => _MyHomePageState(); } class _MyHomePageState extends State<MyHomePage> { final GoogleSignIn googleSignIn = new GoogleSignIn(); String result; @override Widget build(BuildContext context) { return Scaffold( appBar: AppBar( title: Text(widget.title), ), body: Material( color: Colors.transparent, child: InkWell( borderRadius: new BorderRadius.circular(8.0), onTap: () async { _handleSignIn(); }, child: Padding( padding: EdgeInsets.only(top: 12, bottom: 12), child: Center( child: Row( mainAxisSize: MainAxisSize.min, children: <Widget>[ SizedBox( width: 8, ), Text(result != null ? result : 'Continue with Google', textAlign: TextAlign.center), ])))))); } Future<void> _handleSignIn() async { try { GoogleSignInAccount data = await googleSignIn.signIn() ?? null; print(data.toString()); if (data != null) { print(data.displayName); print(data.email); print(data.id); print(data.photoUrl); setState(() { result = data.displayName + ' - ' + data.id; }); } } catch (error) { print(error); } } }